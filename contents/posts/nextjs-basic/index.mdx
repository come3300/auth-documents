---
title: ğŸ§‘â€ğŸ« ç¬¬1å›ï¼šPHPã¨ã¯ï¼Ÿ&é–‹ç™ºç’°å¢ƒï¼ˆDockerï¼‰ã®æº–å‚™
category: php
---

# Next.js 13+ App Router å®Œå…¨ã‚¬ã‚¤ãƒ‰ï¼šãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°åˆå¿ƒè€…ã®ãŸã‚ã®åŒ…æ‹¬çš„ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«

Next.js ã¯ React ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®æœ€ã‚‚äººæ°—ã®ã‚ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä¸€ã¤ã§ã™ã€‚æœ¬è¨˜äº‹ã§ã¯ã€HTMLã€CSSã€JavaScript ã®åŸºç¤çŸ¥è­˜ã‚’æŒã¤åˆå¿ƒè€…ã‚’å¯¾è±¡ã«ã€Next.js ã®æ ¸ã¨ãªã‚‹æ¦‚å¿µã‚’æ®µéšçš„ã«å­¦ç¿’ã—ã¦ã„ãã¾ã™ã€‚

## Next.js ã¨ã¯ä½•ã‹

Next.js ã¯ **React ã®ä¸Šã«æ§‹ç¯‰ã•ã‚ŒãŸæœ¬æ ¼çš„ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯** ã§ã™ã€‚Vercel ç¤¾ã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚Œã€React ã ã‘ã§ã¯æä¾›ã•ã‚Œãªã„æ•°å¤šãã®å¼·åŠ›ãªæ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚

### å¾“æ¥ã® React ã¨ã®é•ã„

æ™®é€šã® React ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ã®ã¿å‹•ä½œ** ã—ã¾ã™ã€‚ã¤ã¾ã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ–ãƒ©ã‚¦ã‚¶ãŒ JavaScript ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€åˆã‚ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ **ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’å—ã‘å–ã£ãŸå¾Œã«ã€æ–™ç†äººãŒèª¿ç†ã‚’å§‹ã‚ã‚‹** ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚

ä¸€æ–¹ã€Next.js ã§ã¯ **ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã‚‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆ** ã§ãã¾ã™ã€‚ã“ã‚Œã¯ **äº‹å‰ã«èª¿ç†æ¸ˆã¿ã®æ–™ç†ã‚’æä¾›ã™ã‚‹ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³** ã®ã‚ˆã†ãªã‚‚ã®ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¾…ã¤ã“ã¨ãªãå³åº§ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### Next.js ã®ä¸»è¦ãªãƒ¡ãƒªãƒƒãƒˆ

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸Š:**
- **ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° (SSR)**: ã‚µãƒ¼ãƒãƒ¼ã§ HTML ã‚’ç”Ÿæˆã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã«é€ä¿¡
- **é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆ (SSG)**: ãƒ“ãƒ«ãƒ‰æ™‚ã« HTML ãƒšãƒ¼ã‚¸ã‚’äº‹å‰ç”Ÿæˆ
- **è‡ªå‹•ã‚³ãƒ¼ãƒ‰åˆ†å‰²**: JavaScript ãŒå¿…è¦ãªåˆ†ã ã‘å°ã•ãªãƒãƒ£ãƒ³ã‚¯ã«åˆ†å‰²ã•ã‚Œã‚‹
- **ç”»åƒæœ€é©åŒ–**: ç”»åƒã®è‡ªå‹•åœ§ç¸®ã¨é…å»¶èª­ã¿è¾¼ã¿

**é–‹ç™ºä½“é¨“ã®å‘ä¸Š:**
- **ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã§ãƒ«ãƒ¼ãƒˆãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
- **ã‚¼ãƒ­è¨­å®š**: è¤‡é›‘ãªè¨­å®šãªã—ã§é–‹å§‹ã§ãã‚‹
- **TypeScript ã‚µãƒãƒ¼ãƒˆ**: TypeScript ãŒæœ€åˆã‹ã‚‰ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹
- **ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰**: ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãŒç¬æ™‚ã«åæ˜ ã•ã‚Œã‚‹

## App Router ã®æ¦‚å¿µã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

Next.js 13 ã§å°å…¥ã•ã‚ŒãŸ **App Router** ã¯ã€React ã®æœ€æ–°æ©Ÿèƒ½ã‚’æ´»ç”¨ã—ãŸæ–°ã—ã„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚å¾“æ¥ã® Pages Router ã¨æ¯”è¼ƒã—ã¦ã€ã‚ˆã‚ŠæŸ”è»Ÿã§åŠ¹ç‡çš„ãªé–‹ç™ºãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

### Server Components ã¨ Client Components

App Router ã®æœ€å¤§ã®ç‰¹å¾´ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ **ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹** ã“ã¨ã§ã™ã€‚ã“ã‚Œã¯ **ä¸­å¤®ã‚­ãƒƒãƒãƒ³ã§æ–™ç†ã‚’ä½œã£ã¦é…é”ã™ã‚‹** ã®ã«ä¼¼ã¦ã„ã¾ã™ã€‚

**Server Componentï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ã®ä¾‹:**

```jsx
// app/products/page.jsx - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
export default async function ProductsPage() {
  // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ç›´æ¥ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼ˆã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œï¼‰
  const products = await fetch('https://api.example.com/products')
    .then(res => res.json())
  
  return (
    <div>
      <h1>å•†å“ä¸€è¦§</h1>
      {products.map(product => (
        <div key={product.id}>
          <h2>{product.name}</h2>
          <p>ä¾¡æ ¼: Â¥{product.price}</p>
        </div>
      ))}
    </div>
  )
}
```

**Client Componentï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ã®ä¾‹:**

```jsx
// components/AddToCartButton.jsx
'use client' // ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãªã‚‹

import { useState } from 'react'

export default function AddToCartButton({ productId }) {
  const [isAdding, setIsAdding] = useState(false)
  
  const handleAddToCart = async () => {
    setIsAdding(true)
    // ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã™ã‚‹å‡¦ç†
    await addToCart(productId)
    setIsAdding(false)
  }
  
  return (
    <button onClick={handleAddToCart} disabled={isAdding}>
      {isAdding ? 'è¿½åŠ ä¸­...' : 'ã‚«ãƒ¼ãƒˆã«è¿½åŠ '}
    </button>
  )
}
```

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

App Router ã§ã¯ã€ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«åãŒç‰¹åˆ¥ãªæ„å‘³ã‚’æŒã¡ã¾ã™ï¼š

```
app/
â”œâ”€â”€ layout.tsx          # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå¿…é ˆï¼‰
â”œâ”€â”€ page.tsx           # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”œâ”€â”€ loading.tsx        # ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° UI
â”œâ”€â”€ error.tsx          # ã‚¨ãƒ©ãƒ¼ UI
â”œâ”€â”€ not-found.tsx      # 404 ãƒšãƒ¼ã‚¸
â”œâ”€â”€ globals.css        # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ about/
â”‚   â””â”€â”€ page.tsx       # /about ãƒšãƒ¼ã‚¸
â””â”€â”€ blog/
    â”œâ”€â”€ layout.tsx     # ãƒ–ãƒ­ã‚°ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
    â”œâ”€â”€ page.tsx       # /blog ãƒšãƒ¼ã‚¸
    â””â”€â”€ [slug]/
        â””â”€â”€ page.tsx   # /blog/è¨˜äº‹å ãƒšãƒ¼ã‚¸
```

**ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå¿…é ˆãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã®ä¾‹:**

```jsx
// app/layout.tsx
export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="ja">
      <body>
        <header>
          <nav>
            <a href="/">ãƒ›ãƒ¼ãƒ </a>
            <a href="/about">ä¼šç¤¾æƒ…å ±</a>
            <a href="/blog">ãƒ–ãƒ­ã‚°</a>
          </nav>
        </header>
        <main>{children}</main>
        <footer>
          <p>&copy; 2024 My Website</p>
        </footer>
      </body>
    </html>
  )
}
```

[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - App Router](https://nextjs.org/docs/app)

## DOM ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¨æ°´å’Œï¼ˆHydrationï¼‰

**DOMï¼ˆDocument Object Modelï¼‰** ã¯ã€HTML ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§æ“ä½œã§ãã‚‹å½¢ã§è¡¨ç¾ã—ãŸã‚‚ã®ã§ã™ã€‚ã“ã‚Œã¯ **å»ºç‰©ã®è¨­è¨ˆå›³** ã®ã‚ˆã†ãªã‚‚ã®ã§ã€JavaScript ã¯ã“ã®è¨­è¨ˆå›³ã‚’ä½¿ã£ã¦ Web ãƒšãƒ¼ã‚¸ã‚’å‹•çš„ã«å¤‰æ›´ã§ãã¾ã™ã€‚

### Next.js ã«ãŠã‘ã‚‹ DOM å‡¦ç†

Next.js ã® DOM å‡¦ç†ã¯ **ä¸‰æ®µéšã®ãƒ—ãƒ­ã‚»ã‚¹** ã§è¡Œã‚ã‚Œã¾ã™ï¼š

1. **ã‚µãƒ¼ãƒãƒ¼ã§ã® HTML ç”Ÿæˆ**: React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒ HTML ã«å¤‰æ›ã•ã‚Œã‚‹
2. **ãƒ–ãƒ©ã‚¦ã‚¶ã§ã® HTML è¡¨ç¤º**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå³åº§ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹
3. **æ°´å’Œï¼ˆHydrationï¼‰**: JavaScript ãŒ HTML ã‚’ã€Œç”Ÿãè¿”ã‚‰ã›ã¦ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«ã™ã‚‹

### æ°´å’Œãƒ—ãƒ­ã‚»ã‚¹ã®è©³ç´°

æ°´å’Œã¯ **é™æ­¢ç”»ã«ç”Ÿå‘½ã‚’å¹ãè¾¼ã‚€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³** ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚»ã‚¹ã§ã™ï¼š

```jsx
// æ°´å’Œã‚¨ãƒ©ãƒ¼ã‚’é¿ã‘ã‚‹ãŸã‚ã®æ­£ã—ã„æ›¸ãæ–¹
'use client'
import { useState, useEffect } from 'react'

export default function ClientTimeComponent() {
  const [currentTime, setCurrentTime] = useState('')
  
  // ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ç•°ãªã‚‹å€¤ã‚’é¿ã‘ã‚‹ãŸã‚ useEffect ã‚’ä½¿ç”¨
  useEffect(() => {
    setCurrentTime(new Date().toLocaleString())
    
    const timer = setInterval(() => {
      setCurrentTime(new Date().toLocaleString())
    }, 1000)
    
    return () => clearInterval(timer)
  }, [])
  
  return <div>ç¾åœ¨æ™‚åˆ»: {currentTime}</div>
}
```

**ã‚ˆãã‚ã‚‹æ°´å’Œã‚¨ãƒ©ãƒ¼ã¨ãã®å¯¾ç­–:**

```jsx
// âŒ é–“é•ã£ãŸä¾‹ - ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ç•°ãªã‚‹å†…å®¹
export default function BadExample() {
  const randomNumber = Math.random() // ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ç•°ãªã‚‹å€¤
  return <div>{randomNumber}</div>
}

// âœ… æ­£ã—ã„ä¾‹ - ä¸€è²«ã—ãŸå†…å®¹
export default function GoodExample() {
  const [mounted, setMounted] = useState(false)
  
  useEffect(() => {
    setMounted(true)
  }, [])
  
  if (!mounted) {
    return <div>èª­ã¿è¾¼ã¿ä¸­...</div>
  }
  
  return <div>{Math.random()}</div>
}
```

[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - Hydration](https://nextjs.org/docs/app/building-your-application/rendering/client-components#hydration)

## ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ–¹å¼ã®ç†è§£

Next.js ã¯ **4ã¤ã®ä¸»è¦ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ–¹å¼** ã‚’æä¾›ã—ã¦ãŠã‚Šã€ãã‚Œãã‚Œç•°ãªã‚‹ç”¨é€”ã«æœ€é©åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ **æ–™ç†ã®èª¿ç†æ–¹æ³•ã‚’é¸ã¶** ã‚ˆã†ãªã‚‚ã®ã§ã€çŠ¶æ³ã«å¿œã˜ã¦æœ€é©ãªæ–¹æ³•ã‚’é¸æŠã—ã¾ã™ã€‚

### 1. ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆSSRï¼‰

SSR ã¯ **æ³¨æ–‡ã‚’å—ã‘ã¦ã‹ã‚‰æ–™ç†ã‚’ä½œã‚‹é«˜ç´šãƒ¬ã‚¹ãƒˆãƒ©ãƒ³** ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆã”ã¨ã«æ–°é®®ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æä¾›ã—ã¾ã™ãŒã€è‹¥å¹²ã®å¾…ã¡æ™‚é–“ãŒã‚ã‚Šã¾ã™ã€‚

**SSR ã®å®Ÿè£…ä¾‹:**

```jsx
// app/user/[id]/page.jsx
export default async function UserProfile({ params }) {
  const { id } = await params
  
  // æ¯å›æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã—ï¼‰
  const user = await fetch(`https://api.example.com/users/${id}`, {
    cache: 'no-store' // SSR ã‚’å¼·åˆ¶
  }).then(res => res.json())
  
  return (
    <div>
      <h1>{user.name} ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h1>
      <p>ãƒ¡ãƒ¼ãƒ«: {user.email}</p>
      <p>æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³: {user.lastLogin}</p>
      <p>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ®‹é«˜: Â¥{user.balance}</p>
    </div>
  )
}
```

**SSR ã«é©ã—ãŸã‚±ãƒ¼ã‚¹:**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ºæœ‰ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®æ ªä¾¡æƒ…å ±
- SNS ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
- ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒãƒ³ã‚­ãƒ³ã‚°

### 2. é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆï¼ˆSSGï¼‰

SSG ã¯ **äº‹å‰ã«èª¿ç†ã—ã¦å†·å‡ä¿å­˜ã—ãŸæ–™ç†** ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ãƒ“ãƒ«ãƒ‰æ™‚ã«ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã€éå¸¸ã«é«˜é€Ÿã§ã™ã€‚

**SSG ã®å®Ÿè£…ä¾‹:**

```jsx
// app/blog/[slug]/page.jsx
export default async function BlogPost({ params }) {
  const { slug } = await params
  
  // ãƒ“ãƒ«ãƒ‰æ™‚ã«å®Ÿè¡Œã•ã‚Œã€çµæœãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹
  const post = await fetch(`https://api.example.com/posts/${slug}`)
    .then(res => res.json())
  
  return (
    <article>
      <h1>{post.title}</h1>
      <p>å…¬é–‹æ—¥: {post.publishedAt}</p>
      <div dangerouslySetInnerHTML={{ __html: post.content }} />
    </article>
  )
}

// ãƒ“ãƒ«ãƒ‰æ™‚ã«ç”Ÿæˆã™ã‚‹ãƒšãƒ¼ã‚¸ã‚’æŒ‡å®š
export async function generateStaticParams() {
  const posts = await fetch('https://api.example.com/posts')
    .then(res => res.json())
  
  return posts.map(post => ({
    slug: post.slug
  }))
}
```

**SSG ã«é©ã—ãŸã‚±ãƒ¼ã‚¹:**
- ä¼æ¥­ã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
- ãƒ–ãƒ­ã‚°è¨˜äº‹
- è£½å“ã‚«ã‚¿ãƒ­ã‚°
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚µã‚¤ãƒˆ

### 3. ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«é™çš„å†ç”Ÿæˆï¼ˆISRï¼‰

ISR ã¯ **å®šæœŸçš„ã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’æ›´æ–°ã™ã‚‹ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ•ãƒ¼ãƒ‰åº—** ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚åŸºæœ¬çš„ã«ã¯äº‹å‰ã«ä½œã£ãŸæ–™ç†ã‚’æä¾›ã—ã¾ã™ãŒã€å®šæœŸçš„ã«æ–°ã—ã„æ–™ç†ã«æ›´æ–°ã—ã¾ã™ã€‚

**ISR ã®å®Ÿè£…ä¾‹:**

```jsx
// app/news/[id]/page.jsx
export const revalidate = 300 // 5åˆ†ã”ã¨ã«å†æ¤œè¨¼

export default async function NewsArticle({ params }) {
  const { id } = await params
  
  const article = await fetch(`https://api.news.com/articles/${id}`)
    .then(res => res.json())
  
  return (
    <article>
      <h1>{article.title}</h1>
      <p>æœ€çµ‚æ›´æ–°: {article.updatedAt}</p>
      <div>{article.content}</div>
      <p>é–²è¦§æ•°: {article.viewCount}</p>
    </article>
  )
}

// ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰å†æ¤œè¨¼ã‚’è¡Œã†ã‚µãƒ¼ãƒãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
import { revalidatePath } from 'next/cache'

export async function updateArticle(formData) {
  'use server'
  
  const articleId = formData.get('articleId')
  
  // è¨˜äº‹ã‚’æ›´æ–°
  await updateArticleInDatabase(articleId)
  
  // ãƒšãƒ¼ã‚¸ã‚’å†æ¤œè¨¼
  revalidatePath(`/news/${articleId}`)
}
```

**ISR ã«é©ã—ãŸã‚±ãƒ¼ã‚¹:**
- ECã‚µã‚¤ãƒˆã®å•†å“ãƒšãƒ¼ã‚¸
- ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚µã‚¤ãƒˆ
- ã‚³ãƒ¡ãƒ³ãƒˆä»˜ããƒ–ãƒ­ã‚°
- ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ãƒšãƒ¼ã‚¸

### 4. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆCSRï¼‰

CSR ã¯ **ãŠå®¢ã•ã‚“è‡ªèº«ãŒèª¿ç†ã™ã‚‹ç„¼è‚‰åº—** ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚é«˜ã„æŸ”è»Ÿæ€§ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ€§ã‚’æä¾›ã—ã¾ã™ãŒã€åˆæœŸè¡¨ç¤ºã«æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚

**CSR ã®å®Ÿè£…ä¾‹:**

```jsx
// app/dashboard/page.jsx
'use client'
import { useState, useEffect } from 'react'

export default function Dashboard() {
  const [data, setData] = useState(null)
  const [loading, setLoading] = useState(true)
  
  useEffect(() => {
    fetch('/api/dashboard-data')
      .then(res => res.json())
      .then(data => {
        setData(data)
        setLoading(false)
      })
  }, [])
  
  if (loading) {
    return (
      <div className="animate-pulse">
        <div className="h-8 bg-gray-200 rounded mb-4"></div>
        <div className="h-4 bg-gray-200 rounded mb-2"></div>
      </div>
    )
  }
  
  return (
    <div>
      <h1>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
      <p>ã“ã‚“ã«ã¡ã¯ã€{data.user.name}ã•ã‚“ï¼</p>
      <div>æ®‹é«˜: Â¥{data.balance}</div>
    </div>
  )
}
```

**CSR ã«é©ã—ãŸã‚±ãƒ¼ã‚¹:**
- ç®¡ç†ç”»é¢
- ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ„ãƒ¼ãƒ«
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆ
- ã‚²ãƒ¼ãƒ 

[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - Rendering](https://nextjs.org/docs/app/building-your-application/rendering)

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åŸºç¤

React/Next.js ã«ãŠã‘ã‚‹ **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** ã¯ã€UI ã®å†åˆ©ç”¨å¯èƒ½ãªéƒ¨å“ã§ã™ã€‚ã“ã‚Œã¯ **ãƒ¬ã‚´ãƒ–ãƒ­ãƒƒã‚¯** ã®ã‚ˆã†ãªã‚‚ã®ã§ã€å°ã•ãªéƒ¨å“ã‚’çµ„ã¿åˆã‚ã›ã¦å¤§ããªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

### åŸºæœ¬çš„ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ

```jsx
// components/UserCard.jsx
export default function UserCard({ user }) {
  return (
    <div className="border rounded-lg p-4 shadow hover:shadow-lg transition-shadow">
      <div className="flex items-center space-x-3">
        {user.avatar && (
          <img 
            src={user.avatar} 
            alt={user.name}
            className="w-12 h-12 rounded-full"
          />
        )}
        <div>
          <h3 className="font-semibold text-lg">{user.name}</h3>
          <p className="text-gray-600">{user.email}</p>
          <p className="text-sm text-gray-500">{user.role}</p>
        </div>
      </div>
    </div>
  )
}
```

### Server Components ã¨ Client Components ã®ä½¿ã„åˆ†ã‘

**Server Components ã‚’ä½¿ã†å ´åˆ:**
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹
- API ã‚­ãƒ¼ã‚„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹
- SEO ãŒé‡è¦ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„
- JavaScript ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã‚’å°ã•ãã—ãŸã„

**Client Components ã‚’ä½¿ã†å ´åˆ:**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆã‚¯ãƒªãƒƒã‚¯ã€å…¥åŠ›ãªã©ï¼‰
- React ãƒ•ãƒƒã‚¯ï¼ˆuseStateã€useEffect ãªã©ï¼‰
- ãƒ–ãƒ©ã‚¦ã‚¶ APIï¼ˆlocalStorageã€window ãªã©ï¼‰
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ©Ÿèƒ½

**æ··åˆä½¿ç”¨ã®ä¾‹:**

```jsx
// app/products/[id]/page.jsx - Server Component
import AddToCartButton from './AddToCartButton'

export default async function ProductPage({ params }) {
  const { id } = await params
  const product = await getProduct(id) // ã‚µãƒ¼ãƒãƒ¼ã§å®Ÿè¡Œ
  
  return (
    <div>
      <h1>{product.name}</h1>
      <p>ä¾¡æ ¼: Â¥{product.price}</p>
      <p>{product.description}</p>
      
      {/* Server Component ã‹ã‚‰ Client Component ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™ */}
      <AddToCartButton productId={product.id} price={product.price} />
    </div>
  )
}
```

```jsx
// components/AddToCartButton.jsx - Client Component
'use client'
import { useState } from 'react'

export default function AddToCartButton({ productId, price }) {
  const [quantity, setQuantity] = useState(1)
  const [isLoading, setIsLoading] = useState(false)
  
  const handleAddToCart = async () => {
    setIsLoading(true)
    
    try {
      await fetch('/api/cart', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ productId, quantity })
      })
      
      alert('ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã—ã¾ã—ãŸï¼')
    } catch (error) {
      alert('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ')
    } finally {
      setIsLoading(false)
    }
  }
  
  return (
    <div className="flex items-center space-x-4">
      <div className="flex items-center border rounded">
        <button 
          onClick={() => setQuantity(Math.max(1, quantity - 1))}
          className="px-3 py-1"
        >
          âˆ’
        </button>
        <span className="px-4 py-1">{quantity}</span>
        <button 
          onClick={() => setQuantity(quantity + 1)}
          className="px-3 py-1"
        >
          ï¼‹
        </button>
      </div>
      
      <button 
        onClick={handleAddToCart}
        disabled={isLoading}
        className="bg-blue-500 text-white px-6 py-2 rounded disabled:opacity-50"
      >
        {isLoading ? 'è¿½åŠ ä¸­...' : `ã‚«ãƒ¼ãƒˆã«è¿½åŠ  (Â¥${price * quantity})`}
      </button>
    </div>
  )
}
```

[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - Components](https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns)

## Props ã®ä½¿ã„æ–¹

**Props**ï¼ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘æ¸¡ã™ãŸã‚ã®ä»•çµ„ã¿ã§ã™ã€‚ã“ã‚Œã¯ **é–¢æ•°ã®å¼•æ•°** ã®ã‚ˆã†ãªã‚‚ã®ã§ã€è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æƒ…å ±ã‚’æ¸¡ã—ã¾ã™ã€‚

### åŸºæœ¬çš„ãª Props ã®ä½¿ç”¨

```jsx
// è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
export default function HomePage() {
  const users = [
    { id: 1, name: 'ç”°ä¸­å¤ªéƒ', email: 'tanaka@example.com', role: 'ç®¡ç†è€…' },
    { id: 2, name: 'éˆ´æœ¨èŠ±å­', email: 'suzuki@example.com', role: 'ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼' },
    { id: 3, name: 'ä½è—¤æ¬¡éƒ', email: 'sato@example.com', role: 'ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼' }
  ]
  
  return (
    <div className="space-y-4">
      <h1>ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§</h1>
      {users.map(user => (
        <UserCard 
          key={user.id}
          user={user}
          showEmail={true}
          onUserClick={(user) => console.log('ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ:', user.name)}
        />
      ))}
    </div>
  )
}
```

### ã•ã¾ã–ã¾ãª Props ã®å‹

```jsx
// components/ProductCard.jsx
export default function ProductCard({
  product,           // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
  showPrice = true,  // ãƒ–ãƒ¼ãƒ«å€¤ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ä»˜ãï¼‰
  discount = 0,      // æ•°å€¤ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ä»˜ãï¼‰
  categories,        // é…åˆ—
  onAddToCart,       // é–¢æ•°
  children           // å­è¦ç´ 
}) {
  const finalPrice = product.price * (1 - discount / 100)
  
  return (
    <div className="border rounded-lg p-4">
      <h2 className="font-bold text-xl">{product.name}</h2>
      
      {showPrice && (
        <div className="mt-2">
          {discount > 0 ? (
            <div>
              <span className="line-through text-gray-500">Â¥{product.price}</span>
              <span className="ml-2 text-red-600 font-bold">Â¥{finalPrice}</span>
              <span className="ml-2 bg-red-100 text-red-800 px-2 py-1 rounded text-sm">
                {discount}% OFF
              </span>
            </div>
          ) : (
            <span className="font-bold">Â¥{product.price}</span>
          )}
        </div>
      )}
      
      {categories && categories.length > 0 && (
        <div className="mt-2">
          {categories.map(category => (
            <span key={category} className="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm mr-2">
              {category}
            </span>
          ))}
        </div>
      )}
      
      {children}
      
      {onAddToCart && (
        <button 
          onClick={() => onAddToCart(product)}
          className="mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"
        >
          ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
        </button>
      )}
    </div>
  )
}
```

### Props ã®åˆ†å‰²ä»£å…¥ã¨ TypeScript

```typescript
// types/index.ts
interface Product {
  id: string
  name: string
  price: number
  description: string
  imageUrl: string
}

interface ProductCardProps {
  product: Product
  showPrice?: boolean
  discount?: number
  categories?: string[]
  onAddToCart?: (product: Product) => void
  children?: React.ReactNode
}

// components/ProductCard.tsx
export default function ProductCard({
  product,
  showPrice = true,
  discount = 0,
  categories = [],
  onAddToCart,
  children
}: ProductCardProps) {
  // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…...
}
```

### Children Props ãƒ‘ã‚¿ãƒ¼ãƒ³

Children props ã¯ **ã‚³ãƒ³ãƒ†ãƒŠã®ã‚ˆã†ãªå½¹å‰²** ã‚’æœãŸã—ã€ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŒ…ã‚€éš›ã«ä½¿ç”¨ã—ã¾ã™ï¼š

```jsx
// components/Card.jsx
export default function Card({ title, children, className = '' }) {
  return (
    <div className={`border rounded-lg shadow-lg ${className}`}>
      {title && (
        <div className="border-b p-4">
          <h2 className="font-bold text-lg">{title}</h2>
        </div>
      )}
      <div className="p-4">
        {children}
      </div>
    </div>
  )
}

// ä½¿ç”¨ä¾‹
export default function AboutPage() {
  return (
    <div className="space-y-6">
      <Card title="ä¼šç¤¾æ¦‚è¦">
        <p>ç§ãŸã¡ã¯é©æ–°çš„ãªWebã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã™ã‚‹ä¼šç¤¾ã§ã™ã€‚</p>
        <p>å‰µæ¥­ã‹ã‚‰10å¹´ã€å¤šãã®ãŠå®¢æ§˜ã«ã”æº€è¶³ã„ãŸã ã„ã¦ã„ã¾ã™ã€‚</p>
      </Card>
      
      <Card title="ã‚µãƒ¼ãƒ“ã‚¹" className="bg-blue-50">
        <ul className="list-disc list-inside space-y-2">
          <li>Webã‚µã‚¤ãƒˆåˆ¶ä½œ</li>
          <li>ã‚·ã‚¹ãƒ†ãƒ é–‹ç™º</li>
          <li>ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°</li>
        </ul>
      </Card>
      
      <Card>
        <h3 className="font-bold mb-2">ãŠå•ã„åˆã‚ã›</h3>
        <p>Email: info@example.com</p>
        <p>é›»è©±: 03-1234-5678</p>
      </Card>
    </div>
  )
}
```

[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - Components and Props](https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns)

## ã‚ˆãã‚ã‚‹åˆå¿ƒè€…ã®é–“é•ã„ã¨å¯¾ç­–

### 1. Server ã¨ Client Components ã®æ··åŒ

**é–“é•ã„:**

```jsx
// âŒ é–“é•ã£ãŸä¾‹
'use client'
import { useState } from 'react'

export default function Page() {
  const [count, setCount] = useState(0)
  
  return (
    <div>
      <ServerDataComponent /> {/* ã“ã‚Œã‚‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãªã£ã¦ã—ã¾ã† */}
      <button onClick={() => setCount(count + 1)}>
        ã‚«ã‚¦ãƒ³ãƒˆ: {count}
      </button>
    </div>
  )
}
```

**æ­£ã—ã„æ–¹æ³•:**

```jsx
// âœ… æ­£ã—ã„ä¾‹
import InteractiveButton from './InteractiveButton'

export default async function Page() {
  const data = await fetchData() // ã‚µãƒ¼ãƒãƒ¼ã§å®Ÿè¡Œ
  
  return (
    <div>
      <ServerDataComponent data={data} />
      <InteractiveButton /> {/* ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã ã‘ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ */}
    </div>
  )
}

// components/InteractiveButton.jsx
'use client'
import { useState } from 'react'

export default function InteractiveButton() {
  const [count, setCount] = useState(0)
  
  return (
    <button onClick={() => setCount(count + 1)}>
      ã‚«ã‚¦ãƒ³ãƒˆ: {count}
    </button>
  )
}
```

### 2. æ°´å’Œã‚¨ãƒ©ãƒ¼ã®å¯¾å‡¦

**é–“é•ã„:**

```jsx
// âŒ ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ç•°ãªã‚‹å€¤
export default function TimeComponent() {
  const currentTime = new Date().toLocaleString()
  return <div>ç¾åœ¨æ™‚åˆ»: {currentTime}</div>
}
```

**æ­£ã—ã„æ–¹æ³•:**

```jsx
// âœ… useEffect ã§ä¸€è²«æ€§ã‚’ä¿ã¤
'use client'
import { useState, useEffect } from 'react'

export default function TimeComponent() {
  const [currentTime, setCurrentTime] = useState('')
  
  useEffect(() => {
    setCurrentTime(new Date().toLocaleString())
  }, [])
  
  return <div>ç¾åœ¨æ™‚åˆ»: {currentTime || 'èª­ã¿è¾¼ã¿ä¸­...'}</div>
}
```

### 3. ç’°å¢ƒå¤‰æ•°ã®èª¤ç”¨

**é–“é•ã„:**

```jsx
// âŒ æ©Ÿå¯†æƒ…å ±ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«éœ²å‡º
const DATABASE_PASSWORD = process.env.DATABASE_PASSWORD // undefined ã«ãªã‚‹
```

**æ­£ã—ã„æ–¹æ³•:**

```jsx
// âœ… ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã®ã¿ä½¿ç”¨
// Server Component ã¾ãŸã¯ API Route å†…ã§ã®ã¿ä½¿ç”¨
if (typeof window === 'undefined') {
  // ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§ã®ã¿å®Ÿè¡Œ
  const dbPassword = process.env.DATABASE_PASSWORD
}

// ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ä½¿ã„ãŸã„å ´åˆã¯ NEXT_PUBLIC_ ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹
const publicApiUrl = process.env.NEXT_PUBLIC_API_URL
```

### 4. ãƒ‡ãƒ¼ã‚¿å–å¾—ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

**é–“é•ã„:**

```jsx
// âŒ Server Component ã§ä¸è¦ãª API Route ã‚’ä½œæˆ
export default async function Page() {
  const res = await fetch('http://localhost:3000/api/data')
  const data = await res.json()
  return <div>{data.message}</div>
}
```

**æ­£ã—ã„æ–¹æ³•:**

```jsx
// âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ç›´æ¥å–å¾—
export default async function Page() {
  const data = await db.posts.findMany() // ç›´æ¥ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹
  return <div>{JSON.stringify(data)}</div>
}

// ã¾ãŸã¯å¤–éƒ¨ API ã‹ã‚‰ç›´æ¥å–å¾—
export default async function Page() {
  const data = await fetch('https://api.external.com/data')
    .then(res => res.json())
  return <div>{data.message}</div>
}
```

## å®Ÿè·µçš„ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä¾‹

### ç°¡å˜ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ :**

```
blog-app/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ blog/
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚       â”œâ”€â”€ page.tsx
â”‚   â”‚       â””â”€â”€ loading.tsx
â”‚   â””â”€â”€ globals.css
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ PostCard.tsx
â”‚   â”œâ”€â”€ Navigation.tsx
â”‚   â””â”€â”€ Footer.tsx
â””â”€â”€ lib/
    â””â”€â”€ posts.ts
```

**ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ:**

```jsx
// app/layout.tsx
import Link from 'next/link'
import './globals.css'

export const metadata = {
  title: 'My Blog',
  description: 'Next.js ã§ä½œæˆã—ãŸãƒ–ãƒ­ã‚°',
}

export default function RootLayout({ children }) {
  return (
    <html lang="ja">
      <body>
        <header className="border-b">
          <nav className="container mx-auto px-4 py-4">
            <div className="flex justify-between items-center">
              <Link href="/" className="text-2xl font-bold">My Blog</Link>
              <div className="space-x-4">
                <Link href="/" className="hover:text-blue-600">ãƒ›ãƒ¼ãƒ </Link>
                <Link href="/blog" className="hover:text-blue-600">ãƒ–ãƒ­ã‚°</Link>
                <Link href="/about" className="hover:text-blue-600">About</Link>
              </div>
            </div>
          </nav>
        </header>
        <main className="container mx-auto px-4 py-8">
          {children}
        </main>
        <footer className="border-t mt-8 py-4 text-center text-gray-600">
          <p>&copy; 2024 My Blog. All rights reserved.</p>
        </footer>
      </body>
    </html>
  )
}
```

**ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸:**

```jsx
// app/page.tsx
import Link from 'next/link'
import PostCard from '../components/PostCard'

async function getPosts() {
  const res = await fetch('https://jsonplaceholder.typicode.com/posts')
  return res.json()
}

export default async function HomePage() {
  const posts = await getPosts()
  const featuredPosts = posts.slice(0, 6)
  
  return (
    <div>
      <section className="text-center py-12">
        <h1 className="text-4xl font-bold mb-4">Welcome to My Blog</h1>
        <p className="text-xl text-gray-600 mb-8">
          ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã€ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã€æ—¥å¸¸ã«ã¤ã„ã¦æ›¸ã„ã¦ã„ã¾ã™
        </p>
        <Link 
          href="/blog"
          className="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors"
        >
          ãƒ–ãƒ­ã‚°ã‚’èª­ã‚€
        </Link>
      </section>
      
      <section>
        <h2 className="text-2xl font-bold mb-6">æ³¨ç›®ã®è¨˜äº‹</h2>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {featuredPosts.map(post => (
            <PostCard key={post.id} post={post} />
          ))}
        </div>
      </section>
    </div>
  )
}
```

**æŠ•ç¨¿ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:**

```jsx
// components/PostCard.tsx
import Link from 'next/link'

export default function PostCard({ post, showExcerpt = true }) {
  return (
    <div className="border rounded-lg p-6 hover:shadow-lg transition-shadow">
      <h3 className="text-xl font-semibold mb-2">
        <Link 
          href={`/blog/${post.id}`}
          className="hover:text-blue-600 transition-colors"
        >
          {post.title}
        </Link>
      </h3>
      
      {showExcerpt && (
        <p className="text-gray-600 mb-4 line-clamp-3">
          {post.body}
        </p>
      )}
      
      <div className="flex justify-between items-center text-sm text-gray-500">
        <span>æŠ•ç¨¿è€…: User {post.userId}</span>
        <Link 
          href={`/blog/${post.id}`}
          className="text-blue-500 hover:text-blue-700"
        >
          ç¶šãã‚’èª­ã‚€ â†’
        </Link>
      </div>
    </div>
  )
}
```

**å€‹åˆ¥è¨˜äº‹ãƒšãƒ¼ã‚¸:**

```jsx
// app/blog/[slug]/page.tsx
import Link from 'next/link'

async function getPost(id) {
  const res = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}`)
  if (!res.ok) {
    throw new Error('è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“')
  }
  return res.json()
}

export default async function BlogPost({ params }) {
  const { slug } = await params
  const post = await getPost(slug)
  
  return (
    <article>
      <div className="mb-8">
        <Link 
          href="/blog" 
          className="text-blue-500 hover:text-blue-700 mb-4 inline-block"
        >
          â† ãƒ–ãƒ­ã‚°ä¸€è¦§ã«æˆ»ã‚‹
        </Link>
        <h1 className="text-4xl font-bold mb-4">{post.title}</h1>
        <div className="text-gray-600 mb-8">
          <span>æŠ•ç¨¿è€…: User {post.userId}</span>
          <span className="mx-2">â€¢</span>
          <span>2024å¹´1æœˆ1æ—¥</span>
        </div>
      </div>
      
      <div className="prose max-w-none">
        <p className="text-lg leading-relaxed">{post.body}</p>
      </div>
      
      <div className="mt-12 pt-8 border-t">
        <h3 className="text-xl font-semibold mb-4">ã“ã®è¨˜äº‹ã«ã¤ã„ã¦ã®ã‚³ãƒ¡ãƒ³ãƒˆ</h3>
        <p className="text-gray-600">ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã¯æº–å‚™ä¸­ã§ã™ã€‚</p>
      </div>
    </article>
  )
}
```

**ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹:**

```jsx
// app/blog/[slug]/loading.tsx
export default function Loading() {
  return (
    <div className="animate-pulse">
      <div className="h-4 bg-gray-200 rounded w-20 mb-4"></div>
      <div className="h-10 bg-gray-200 rounded mb-4"></div>
      <div className="h-4 bg-gray-200 rounded w-40 mb-8"></div>
      <div className="space-y-3">
        <div className="h-4 bg-gray-200 rounded"></div>
        <div className="h-4 bg-gray-200 rounded w-5/6"></div>
        <div className="h-4 bg-gray-200 rounded w-4/6"></div>
      </div>
    </div>
  )
}
```

[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - Building Your Application](https://nextjs.org/docs/app/building-your-application)

## ã¾ã¨ã‚

Next.js 13+ App Router ã¯ã€ç¾ä»£ã® Web é–‹ç™ºã«ãŠã„ã¦éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§å­¦ã‚“ã ä¸»è¦ãªãƒã‚¤ãƒ³ãƒˆã‚’æŒ¯ã‚Šè¿”ã‚Šã¾ã—ã‚‡ã†ï¼š

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ:**
- **Server Components ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ**: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ©Ÿèƒ½ãŒå¿…è¦ãªæ™‚ã ã‘ `'use client'` ã‚’ä½¿ã†
- **é©åˆ‡ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ–¹å¼ã®é¸æŠ**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ€§è³ªã«å¿œã˜ã¦ SSRã€SSGã€ISRã€CSR ã‚’ä½¿ã„åˆ†ã‘ã‚‹
- **Props ã«ã‚ˆã‚‹åŠ¹æœçš„ãªãƒ‡ãƒ¼ã‚¿å—ã‘æ¸¡ã—**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®é€£æºã‚’ç†è§£ã™ã‚‹
- **æ°´å’Œã‚¨ãƒ©ãƒ¼ã®å›é¿**: ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ä¸€è²«ã—ãŸå†…å®¹ã‚’æä¾›ã™ã‚‹
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: next/imageã€next/fontã€dynamic import ã‚’æ´»ç”¨ã™ã‚‹

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:**
1. å®Ÿéš›ã«å°ã•ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦ã¿ã‚‹
2. TypeScript ã‚’å°å…¥ã—ã¦ã‚ˆã‚Šå …ç‰¢ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆPrisma + PostgreSQL ãªã©ï¼‰ã‚’çµ±åˆã™ã‚‹
4. èªè¨¼æ©Ÿèƒ½ï¼ˆNextAuth.js ãªã©ï¼‰ã‚’è¿½åŠ ã™ã‚‹
5. Vercel ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦æœ¬ç•ªç’°å¢ƒã‚’ä½“é¨“ã™ã‚‹

Next.js ã®å­¦ç¿’ã¯ç¶™ç¶šçš„ãªãƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ãªãŒã‚‰ã€å®Ÿéš›ã«æ‰‹ã‚’å‹•ã‹ã—ã¦å­¦ç¿’ã‚’ç¶šã‘ã‚‹ã“ã¨ãŒæœ€ã‚‚åŠ¹æœçš„ãªæ–¹æ³•ã§ã™ã€‚

**å‚è€ƒãƒªãƒ³ã‚¯:**
- [Next.js å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nextjs.org/docs)
- [App Router ã‚¬ã‚¤ãƒ‰](https://nextjs.org/docs/app)
- [Learn Next.js](https://nextjs.org/learn)
- [Next.js Examples](https://github.com/vercel/next.js/tree/canary/examples)
- [Vercel ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰](https://vercel.com/docs/deployments/overview)