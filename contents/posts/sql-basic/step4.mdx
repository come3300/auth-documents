---
title: 第4回： コレクションとは
category: js
---

## コレクションとは
JavaScriptにおけるコレクションとは、複数のデータを一つにまとめて扱うためのデータ構造のことを指します。
代表的なコレクションには、配列（Array）やオブジェクト（Object）があります。

### コレクションと配列の違いについて

プログラミング言語によって、複数のデータを変数で管理するための(JavaScriptにおけるコレクション)名称が異なります。
例えば、PHPやRubyでは「配列」、Pythonでは「リスト」と呼びます。細かな違いはありますが、基本的には同じ概念を指しています。

著者はPHPを最初に学習していたため、複数のデータを一つにまとめて扱う概念は配列が一番ピンときます。

## コレクションの種類
JavaScriptには、主に以下のようなコレクションがあります。
- 配列（Array）
- 多次元配列 (Multidimensional Array)
- オブジェクト（Object）
- マップ（Map）
- セット（Set）

今回は配列（Array）と多次元配列 (Multidimensional Array)について解説していきます。

## 配列（Array）とは

配列とは、複数のデータを順番に並べて管理できるデータ構造です。
例えば、「お気に入りの果物リスト」や「テストの点数リスト」など、同じ種類のデータをまとめて扱いたい時に便利です。

{/* TODO イメージ画像 */}

### 配列の書き方

配列は`[ ]`（角括弧）を使って作成します。データは`,`（カンマ）で区切ります。

```javascript
const fruits = ["りんご", "バナナ", "みかん"];
```

#### 配列の基本ルール

1. **角括弧で囲む**: `[ ]`で全体を囲みます
2. **カンマで区切る**: 複数の要素は`,`で区切ります
3. **インデックスは0から**: 配列の最初の要素は0番目です

```javascript
// 数値の配列
const scores = [85, 92, 78, 95, 88];

// 文字列の配列
const colors = ["赤", "青", "黄色", "緑"];

// 空の配列
const emptyArray = [];
```

### 配列の使い方

#### 1. 配列の要素にアクセスする

配列の各要素には**インデックス番号**でアクセスできます。インデックスは**0から始まる**ことに注意してください。

```javascript
const fruits = ["りんご", "バナナ", "みかん"];

console.log(fruits[0]); // "りんご"
console.log(fruits[1]); // "バナナ"
console.log(fruits[2]); // "みかん"
```

{/* TODO 配列のインデックスのイメージ図 */}

#### 2. 配列の長さを調べる

配列に何個のデータが入っているかは、`.length`プロパティで確認できます。

```javascript
const fruits = ["りんご", "バナナ", "みかん"];
console.log(fruits.length); // 3
```

#### 3. 配列に要素を追加する

**最後に追加**: `push()`メソッド

```javascript
const fruits = ["りんご", "バナナ"];
fruits.push("みかん");
console.log(fruits); // ["りんご", "バナナ", "みかん"]
```

**最初に追加**: `unshift()`メソッド

```javascript
const fruits = ["バナナ", "みかん"];
fruits.unshift("りんご");
console.log(fruits); // ["りんご", "バナナ", "みかん"]
```

#### 4. 配列から要素を削除する

**最後を削除**: `pop()`メソッド

```javascript
const fruits = ["りんご", "バナナ", "みかん"];
fruits.pop();
console.log(fruits); // ["りんご", "バナナ"]
```

**最初を削除**: `shift()`メソッド

```javascript
const fruits = ["りんご", "バナナ", "みかん"];
fruits.shift();
console.log(fruits); // ["バナナ", "みかん"]
```

#### 5. 配列の全要素を表示する

`for`文を使って、配列の全要素を順番に取り出せます。

```javascript
const fruits = ["りんご", "バナナ", "みかん"];

for (let i = 0; i < fruits.length; i++) {
  console.log(fruits[i]);
}
// 出力:
// りんご
// バナナ
// みかん
```

もっと簡単に書ける`for...of`文もあります。

```javascript
const fruits = ["りんご", "バナナ", "みかん"];

for (const fruit of fruits) {
  console.log(fruit);
}
// 出力:
// りんご
// バナナ
// みかん
```

### 実践例：テストの点数を管理する

```javascript
// テストの点数を配列で管理
const testScores = [85, 92, 78, 95, 88];

// 合計点を計算
let total = 0;
for (const score of testScores) {
  total = total + score;
}

// 平均点を計算
const average = total / testScores.length;

console.log("テストの回数: " + testScores.length); // 5
console.log("合計点: " + total);                   // 438
console.log("平均点: " + average);                 // 87.6
```

## 多次元配列 (Multidimensional Array)とは

多次元配列とは、**配列の中に配列が入っている**構造のことです。
表（テーブル）のようなデータを扱いたい時に便利です。

{/* TODO 多次元配列のイメージ図 */}

### 多次元配列の書き方

配列の中にさらに配列を入れることで、多次元配列を作成できます。

```javascript
const students = [
  ["田中", 85, 92],
  ["佐藤", 78, 88],
  ["鈴木", 95, 90]
];
```

上記の例では:
- 外側の配列: 生徒のリスト
- 内側の配列: [名前, 数学の点数, 英語の点数]

### 多次元配列の使い方

#### 要素にアクセスする

多次元配列の要素には、`[外側のインデックス][内側のインデックス]`でアクセスします。

```javascript
const students = [
  ["田中", 85, 92],
  ["佐藤", 78, 88],
  ["鈴木", 95, 90]
];

console.log(students[0]);     // ["田中", 85, 92]
console.log(students[0][0]);  // "田中"
console.log(students[0][1]);  // 85
console.log(students[1][0]);  // "佐藤"
console.log(students[2][2]);  // 90
```

{/* TODO 多次元配列のアクセスのイメージ図 */}

#### 全要素を表示する

ネストした`for`文を使って、全要素を取り出せます。

```javascript
const students = [
  ["田中", 85, 92],
  ["佐藤", 78, 88],
  ["鈴木", 95, 90]
];

for (let i = 0; i < students.length; i++) {
  const name = students[i][0];
  const mathScore = students[i][1];
  const englishScore = students[i][2];

  console.log(name + "さん - 数学: " + mathScore + "点, 英語: " + englishScore + "点");
}

// 出力:
// 田中さん - 数学: 85点, 英語: 92点
// 佐藤さん - 数学: 78点, 英語: 88点
// 鈴木さん - 数学: 95点, 英語: 90点
```

### 実践例：座席表を管理する

```javascript
// 3行4列の座席表
const seats = [
  ["田中", "佐藤", "鈴木", "山田"],
  ["高橋", "伊藤", "渡辺", "中村"],
  ["小林", "加藤", "吉田", "山本"]
];

// 2行目3列目の人を表示
console.log("2行目3列目: " + seats[1][2]); // "渡辺"

// 全座席を表示
for (let row = 0; row < seats.length; row++) {
  let rowText = (row + 1) + "行目: ";

  for (let col = 0; col < seats[row].length; col++) {
    rowText = rowText + seats[row][col] + " ";
  }

  console.log(rowText);
}

// 出力:
// 1行目: 田中 佐藤 鈴木 山田
// 2行目: 高橋 伊藤 渡辺 中村
// 3行目: 小林 加藤 吉田 山本
```

## まとめ

今回学んだこと:

1. **配列**は複数のデータを順番に並べて管理できる
2. **インデックス**は0から始まる
3. `push()`, `pop()`, `shift()`, `unshift()`で要素の追加・削除ができる
4. **多次元配列**は配列の中に配列を入れた構造
5. 多次元配列は表のようなデータを扱うのに便利

配列はプログラミングで最もよく使うデータ構造の一つです。しっかり理解しておきましょう！
